\n#define AL float\n#define BT vec2\n#define KN smoothstep\nuniform AL f;uniform BT r;AL A(BT a){return pow(pow(a.x,2.)+pow(a.y,2.),.5);}vec3 B(AL b,AL a){return sin(vec3(12.23,45.23,56.2)+a*3.)*.5+.5;}AL C(BT b,AL a){AL c=0.;for(AL e=0.;e<16.;e++){for(AL f=0.;f<16.;f++){BT d=BT(e+mod(f,2.)/2.-8.,(f-8.)*.707)/16.;AL g=sin(pow(e-8.,2.)+pow(f-8.,2.)+a+25.*A(b-d))*.05;if(A(b-d)<g){c+=1.;}else{c+=0.;}}}c-=1.1;c=mod(c,2.)-.95;return c;}vec4 D(BT a,BT b){vec4 f;BT o=(a/b.xy)/BT(1.,16./9.);o-=BT(.5,9./16./2.);AL h=f/60.;AL d=dot(o,o);AL l=h/5.;AL j=0.;for(AL g=0.;g<1.;g+=1./3.){AL l=fract(g+l);AL p=mix(5.,.1,l);AL e=KN(0.,.3,l)*KN(1.,.7,l);j+=e*l*C(o*p/1.3,h);}vec3 c=B(h,A(o));AL i=C(o,h);AL n=sin(h)*5.-2.;AL k=KN(0.,1.,n/2.)*i+KN(1.,0.,n/2.)*j;f=vec4(k*c,1.);return f;}void main(){BT a=gl_FragCoord.xy/r;gl_FragColor=D(gl_FragCoord.xy,r);}
